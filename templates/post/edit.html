{% extends 'base.html'%}
{% block title %}Edit Post: {{post.title}}{% endblock %}
{% block content%}
<h1>{{post.title}}</h1>
<p>{{post.content}}</p>
Tags:
{% for tag in post.tags%}
<p>{{tag.name}}</p>
{%endfor%}
<form>
    <input type="text" name="title" placeholder="Title">
    <input type="text" name="content" placeholder="Content">
    {% for tag in tags %}
        {% if tag in post.tags %}
        <!-- If already in post.tags, show checked -->
            <input type="checkbox"
                    value="{{tag.id}}"
                    id="tag_{{tag.id}}"
                    name="tags"
                    checked>
            <label for="{{tag.id}}">{{tag.name}}</label>
        {% else %}
            <input type="checkbox"
            value="{{tag.id}}"
            id="tag_{{tag.id}}"
            name="tags">
            <label for="{{tag.id}}">{{tag.name}}</label>
        {% endif %}
    {% endfor %}
    <button type="submit" class="btn btn-primary" formmethod="POST">Edit Post</button>
    <button class="btn btn-danger" formaction="/posts/{{post.id}}">Cancel</button>
</form>

{% endblock %}